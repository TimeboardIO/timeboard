<!DOCTYPE html>

<html layout:decorate="~{layouts/general.html(path='/projects')}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <title layout:fragment="title">Home Page</title>
</head>
<body>

<div layout:fragment="content">

    <div class="ui icon message" th:if="${projects.isEmpty()}">
        <i class="inbox icon"></i>
        <div class="content">
            <div class="header">
                No Projects ?
            </div>
            <p>You are not member of any project, click <a th:href="@{/projects/create}">here</a> to create your first
                project !</p>
        </div>
    </div>

    <div th:if="${!projects.isEmpty()}">

        <a class="ui button" th:href="@{/projects/create}">Create Project</a>

        <table class="ui celled table">
            <thead>
            <tr>
                <th>id</th>
                <th>Name</th>
                <th>Description</th>
                <th>Members</th>
                <th>Clusters</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="project : ${projects}">
                <td th:text="${project.id}">id</td>
                <td th:text="${project.name}">name</td>
                <td th:text="${project.comments}">name</td>
                <td><span th:text="${project.members.size()}"></span> members</td>
                <td><span th:text="${project.clusters.size()}"></span> clusters</td>
                <td>
                    <a class="ui positive button" th:href="@{/projects/config(projectID=${project.id})}">Setup</a>
                    <a class="ui negative basic button"
                       th:href="@{/projects/delete(projectID=${project.id})}">Delete</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>

</body>
</html>